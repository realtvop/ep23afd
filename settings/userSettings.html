<!DOCTYPE html>

<html>
    <head>
		  <meta charset="UTF-8" />
		  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
		  <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0, user-scalable=0;" />
		  <title>设置</title>
    </head>
    <body class="mdui-theme-layout-dark mdui-appbar-with-toolbar mdui-theme-primary-indigo mdui-theme-accent-pink mdui-theme-layout-auto mdui-loaded">
        <script type="module" src="../assets/mdui/js/mdui.js"></script>
        <link rel="stylesheet" href="../assets/mdui/css/mdui.css" />
        <header class="appbar mdui-appbar mdui-appbar-fixed">
            <div class="mdui-toolbar mdui-color-theme">
                <span onclick="history.go(-1)" class="mdui-btn mdui-btn-icon mdui-ripple mdui-ripple-white" mdui-tooltip="{content: '返回'}">
                    <i class="mdui-icon material-icons">arrow_back</i>
                </span>
                <a class="mdui-typo-headline mdui-hidden-xs">elecphi</a>
                <a class="mdui-typo-title">设置</a>
                <div class="mdui-toolbar-spacer"></div>
                <div class="mdui-textfield mdui-textfield-expandable mdui-float-right">
            </div>

        </header>
        <ul class="mdui-list">
          
            <li class="mdui-list-item">
              <i class="mdui-list-item-icon mdui-icon material-icons">text_fields</i>
              <div class="mdui-list-item-content">ID</div>
              <div class="mdui-textfield" style="width: 50%;">
                <input id="playerName" type="text" class="mdui-textfield-input" maxlength="12" placeholder="Enter Your ID..."></input>
              </div>
            </li>
          
            <li class="mdui-list-item">
                <i class="mdui-list-item-icon mdui-icon material-icons">text_fields</i>
                <div class="mdui-list-item-content">谱面文件夹地址</div>
                <a href="./help.html" target="_blank" class="mdui-btn mdui-btn-icon mdui-ripple mdui-ripple-white" mdui-tooltip="{content: '谱面文件夹地址填写向导'}" id="help">
                    <i class="mdui-icon material-icons">help</i>
                </a>
                <div class="mdui-textfield" style="width: 50%;">
                  <input id="chartsPath" type="text" class="mdui-textfield-input" placeholder="输入文件夹地址"></input>
                  <div class="mdui-textfield-helper">不懂请点左侧帮助按钮进入向导</div>
                </div>
              </li>

            <li class="mdui-list-item">
                <i class="mdui-list-item-icon mdui-icon material-icons">done</i>
                <div class="mdui-list-item-content">开启章节模式（进阶选项，不懂勿选）</div>
                <label class="mdui-switch">
                    <input id="multi-chapterMode" type="checkbox"/>
                    <i class="mdui-switch-icon"></i>
                </label>
            </li>

        </ul>
        <script>
            for (let i of ["playerName", "chartsPath"]) {
                let thisElement = document.getElementById(i)
                if (window.localStorage.getItem(i) != null) thisElement.value = window.localStorage.getItem(i);
                thisElement.addEventListener("change", () => {
                    window.localStorage.setItem(i, thisElement.value);
                })
            }
            for (let thisCheckbox of ["multi-chapterMode"] /* 所有checkbox的id */ ) {
                let thisElement = document.getElementById(thisCheckbox);
                if (window.localStorage.getItem(thisCheckbox) !== null) thisElement.checked = window.localStorage.getItem(thisCheckbox) === "true" ? true : false;
                else window.localStorage.setItem(thisCheckbox, thisElement.checked);
                thisElement.addEventListener("change", () => {
                    //console.log(thisElement.checked)
                    console.log(thisCheckbox)
                    window.localStorage.setItem(thisCheckbox, thisElement.checked);
            })
}
        </script>
    </body>
</html>